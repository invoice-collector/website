---
sidebar_position: 1
---

import Button from '@site/src/components/Button';

# Introduction

This section will guide you through integrating Invoice-Collector into your frontend application.
We'll cover the 4 main use cases that your application needs to support:

## Use Cases

| Use Case | Description |
|----------|-------------|
| 1. List credentials | Display all available credentials |
| 2. Adding a New Credential | Create and configure a new credential |
| 3. Delete a Credential | Remove an existing credential |
| 4. Re-connect a credential | Refresh or update connection to an existing credential |

## Credential States

Credentials go through various states during their lifecycle. Understanding these states is crucial for providing appropriate UI feedback to your users.

| State | Code | Description |
|-------|------|-------------|
| Unknown | 0 | Something went wrong - Unexpected state - A new collect will start soon |
| Preparing collect | 1 | Initial preparation phase before collection starts |
| Login in progress | 2 | Authentication process is underway |
| 2FA code required | 3 | Two-factor authentication code is needed from user |
| Performing 2FA | 4 | Processing the provided 2FA code |
| Collecting data | 5 | Gathering data from the collector source |
| Downloading invoices | 6 | Retrieving invoice files |
| Done | 7 | Collection completed successfully |
| Error | -1 | An error occurred during the process |
| Disconnected | -2 | Credential needs to be reconnected |

### State Flow Diagram

```mermaid
stateDiagram-v2
    [*] --> PreparingCollect: Start Collection
    PreparingCollect --> LoginInProgress: Begin Authentication
    LoginInProgress --> 2FARequired: 2FA Enabled
    2FARequired --> Performing2FA: User Provides Code
    LoginInProgress --> CollectingData: No 2FA
    Performing2FA --> CollectingData: 2FA Success
    CollectingData --> DownloadingInvoices: Data Retrieved
    DownloadingInvoices --> Done: Complete
    
    Done --> [*]: Success
    [*] --> Error: Authentication error
    [*] --> Disconnected: Disconnected error
    [*] --> Unknown: Unknown error
    
    note right of PreparingCollect: State 1
    note right of LoginInProgress: State 2
    note right of 2FARequired: State 3
    note right of Performing2FA: State 4
    note right of CollectingData: State 5
    note right of DownloadingInvoices: State 6
    note right of Done: State 7
    note right of Error: State -1
    note right of Disconnected: State -2
    note right of Unknown: State 0
```

