---
sidebar_position: 4
---

import Button from '@site/src/components/Button';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Credential states

Credentials go through various states during their lifecycle. Understanding these states is crucial for providing appropriate UI feedback to your users.

Each credential object has a `state` field:
```json
...
state: {
  index: 3,                                             // Number from -2 to 7
  max: 7,                                               // Always 7
  title: "2FA code is required",                        // Title of the current state 
  message: "A 2FA code has been sent to ***@gmail.com"  // Instructions for the current state
},
...
```

<div className="table-container">
<table>
    <thead>
        <tr>
            <th>State</th>
            <th>Index</th>
            <th>Description</th>
            <th>Possible actions</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>Unknown</td>
            <td>0</td>
            <td>Something went wrong - Unexpected state</td>
            <td>
                <button>[Re-connect](frontend-integration/reconnect-credential)</button>
                <br/>
                <button>[Delete](frontend-integration/delete-credential)</button>
            </td>
        </tr>
        <tr>
            <td>Preparing collect</td>
            <td>1</td>
            <td>Initial preparation phase before collection starts</td>
            <td>
                <button>[View collect](frontend-integration/view-collect)</button>
                <br/>
                <button>[Delete](frontend-integration/delete-credential)</button>
            </td>
        </tr>
        <tr>
            <td>Authentication in progress</td>
            <td>2</td>
            <td>Authentication process is underway</td>
            <td>
                <button>[View collect](frontend-integration/view-collect)</button>
                <br/>
                <button>[Delete](frontend-integration/delete-credential)</button>
            </td>
        </tr>
        <tr>
            <td>2FA code required</td>
            <td>3</td>
            <td>Two-factor authentication code is needed from user</td>
            <td>
                <button>[View collect](frontend-integration/view-collect)</button>
                <br/>
                <button>[Delete](frontend-integration/delete-credential)</button>
            </td>
        </tr>
        <tr>
            <td>Performing 2FA</td>
            <td>4</td>
            <td>Processing the provided 2FA code</td>
            <td>
                <button>[View collect](frontend-integration/view-collect)</button>
                <br/>
                <button>[Delete](frontend-integration/delete-credential)</button>
            </td>
        </tr>
        <tr>
            <td>Collecting data</td>
            <td>5</td>
            <td>Gathering data from the collector source</td>
            <td>
                <button>[View collect](frontend-integration/view-collect)</button>
                <br/>
                <button>[Delete](frontend-integration/delete-credential)</button>
            </td>
        </tr>
        <tr>
            <td>Downloading invoices</td>
            <td>6</td>
            <td>Retrieving invoice files</td>
            <td>
                <button>[View collect](frontend-integration/view-collect)</button>
                <br/>
                <button>[Delete](frontend-integration/delete-credential)</button>
            </td>
        </tr>
        <tr>
            <td>Done</td>
            <td>7</td>
            <td>Collection completed successfully</td>
            <td>[Delete](delete-credential)</td>
        </tr>
        <tr>
            <td>Error</td>
            <td>-1</td>
            <td>An error occurred during the process</td>
            <td>[Delete](delete-credential)</td>
        </tr>
        <tr>
            <td>Disconnect</td>
            <td>-2</td>
            <td>Credential needs to be reconnected</td>
            <td>
                <button>[Re-connect](frontend-integration/reconnect-credential)</button>
                <br/>
                <button>[Delete](frontend-integration/delete-credential)</button>
            </td>
        </tr>
    </tbody>
</table>
</div>

### State Flow Diagram

![state_diagram](../diagrams/state_diagram.svg)

